{"version":3,"sources":["pages/MyTravel/MyTravel/children/Message/children/MessageItem.js","pages/MyTravel/MyTravel/children/Message/Message.js","pages/MyTravel/MyTravel/children/MyApply/children/MyApplyItem.js","pages/MyTravel/MyTravel/children/MyApply/MyApply.js","pages/MyTravel/MyTravel/MyTravel.js"],"names":["MessageItem","console","log","this","props","showProup","reason","id","className","src","travel","img","alt","user","name","onClick","seeMoreAction","bind","rejectAction","Component","Message","onClose","key","setState","state","modal1","content","info","deleteTravelJoiner","setTimeout","userinfo","joiner","length","handlemyMessage","map","item","index","visible","transparent","maskClosable","title","footer","text","onPress","wrapProps","onTouchStart","onWrapTouchStart","style","height","overflow","connect","dispatch","data","type","val","MyApplyItem","releaseTime","numOfJoin","MyApply","myApplyTravels","findTravel","MyTravel","a","b","myMessage","myApply","n","tabs","tabBarActiveTextColor","tabBarInactiveTextColor","tabBarUnderlineStyle","border","backgroundImage","transform","initialPage","onChange","tab","onTabClick","display","alignItems","justifyContent","backgroundColor","handlemyApply"],"mappings":"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","file":"static/js/11.10446ed7.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './style.scss'\r\nexport class MessageItem extends Component {\r\n    seeMoreAction(){\r\n        console.log(this.props);\r\n        this.props.showProup(this.props.reason);\r\n    }\r\n    rejectAction(){\r\n        this.props.showProup('申请已拒绝',this.props.id);\r\n    }\r\n    render() {\r\n        \r\n        return (\r\n            <div className=\"messageItem\">\r\n                <div className=\"imgbox\">\r\n                    <img src={this.props.travel.img} alt=\"\"/>\r\n                </div>\r\n                <div className=\"info\">\r\n                    <div className=\"userInfo\">\r\n                        <div className=\"imgBoxWraper\">\r\n                            <div className=\"imgBox\">\r\n                                <img src={this.props.user.img} alt=\"\"/>\r\n                            </div>\r\n                            <h3>{this.props.user.name}</h3>\r\n                        </div>\r\n                        <span>申请加入您的旅行</span>\r\n                    </div>\r\n\r\n                    <p onClick={this.seeMoreAction.bind(this)}>查看验证信息</p>\r\n\r\n                    <span className=\"action\">同意</span><span className=\"action reject\" onClick={this.rejectAction.bind(this)}>拒绝</span>\r\n                </div>\r\n            </div>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default MessageItem;\r\n","import React, { Component } from 'react';\r\nimport './style.scss'\r\nimport {connect} from 'react-redux'\r\nimport MessageItem from './children/MessageItem'\r\nimport { Modal } from 'antd-mobile';\r\nexport class Message extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        console.log(props);\r\n        this.state = {\r\n            modal1: false,\r\n            content:'asdf'\r\n          };\r\n    }\r\n\r\n    onClose = key => () => {\r\n        this.setState({\r\n            [key]: false,\r\n        });\r\n    }\r\n    showProup(info,id){\r\n        if(id){\r\n            \r\n            this.props.deleteTravelJoiner(id);\r\n            setTimeout(() => {\r\n                console.log(this.props.userinfo.joiner.length);\r\n                this.props.handlemyMessage(this.props.userinfo.joiner.length);\r\n            });\r\n            return;\r\n        }\r\n        this.setState({\r\n            ...this.state,\r\n            modal1:true,\r\n            content:info\r\n        })\r\n        // console.log(this.showModal);\r\n        \r\n    }\r\n    render() {\r\n        // console.log(this.props);\r\n        // console.log(this.props.userinfo.joiner);\r\n        return (\r\n            <div  className=\"messages\">\r\n                {\r\n                    this.props.userinfo.joiner.map((item,index)=>{\r\n                        return <MessageItem showProup={this.showProup.bind(this)} key={index} {...item}/>\r\n                    })\r\n                }\r\n\r\n                <Modal\r\n                    visible={this.state.modal1}\r\n                    transparent\r\n                    maskClosable={false}\r\n                    onClose={this.onClose('modal1')}\r\n                    title=\"验证信息\"\r\n                    footer={[{ text: 'Ok', onPress: () => { console.log('ok'); this.onClose('modal1')(); } }]}\r\n                    wrapProps={{ onTouchStart: this.onWrapTouchStart }}\r\n                    // afterClose={() => { alert('afterClose'); }}\r\n                    >\r\n                    <div style={{ height: 100, overflow: 'scroll' }}>\r\n                        {this.state.content}\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToPrpps = (state)=>{\r\n    return{\r\n            // myApplyTravels:state.findTravel,\r\n            userinfo:state.user\r\n        }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return{\r\n        deleteTravelJoiner(data){\r\n            dispatch({\r\n                type:'deleteTravelJoiner',\r\n                val:data\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToPrpps,mapDispatchToProps)(Message);\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport  './style.scss'\r\nexport class MyApplyItem extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"myApplyItem\">\r\n                <div className=\"imgbox\">\r\n                    <img src={this.props.img} alt=\"\"/>\r\n                </div>\r\n                <div className=\"info\">\r\n                    <h3>{this.props.title}</h3>\r\n                    <h4>{this.props.releaseTime}</h4>\r\n                    <p>人数：{this.props.numOfJoin}人</p>\r\n                    <span>审核中</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MyApplyItem;\r\n","import React, { Component } from 'react';\r\nimport './style.scss'\r\nimport {connect} from 'react-redux'\r\nimport MyApplyItem from './children/MyApplyItem'\r\n\r\nexport class MyApply extends Component {\r\n    render() {\r\n        let myApplyTravels = this.props.myApplyTravels.myApplyTravels;\r\n        // console.log(myApplyTravels);\r\n        \r\n        return (\r\n            <div className=\"myapply\">\r\n                <div className=\"box\">\r\n                    {\r\n                       myApplyTravels.map((item,index)=>{\r\n                           return  <MyApplyItem key={index} {...item} />\r\n                       }) \r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToPrpps = (state)=>{\r\n    return{\r\n            myApplyTravels:state.findTravel,\r\n            userinfo:state.user\r\n        }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return{\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToPrpps,mapDispatchToProps)(MyApply);\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport './style.scss'\r\nimport { Tabs, Badge } from 'antd-mobile';\r\nimport Message from './children/Message/Message'\r\nimport MyApply from './children/MyApply/MyApply'\r\nimport {connect} from 'react-redux'\r\nexport class MyTravel extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this.props.userinfo.joiner);\r\n        let a = this.props.userinfo.joiner.length;\r\n        let b = this.props.myApplyTravels.myApplyTravels.length;\r\n        this.state = {\r\n            myMessage:a,\r\n            myApply:b,\r\n        }\r\n      \r\n    }\r\n\r\n    handlemyMessage(n){\r\n        console.log(n);\r\n        \r\n        this.setState({\r\n            myMessage:n\r\n        })\r\n    }\r\n    \r\n    handlemyApply(n){\r\n        this.setState({\r\n            myApply:n\r\n        })\r\n    }\r\n    render() {\r\n        let tabs = [\r\n            { title: <Badge text={this.state.myMessage}>收到来信</Badge> },\r\n            { title: <Badge text={this.state.myApply}>我的申请</Badge> },\r\n          ];\r\n        return (\r\n            <div className=\"page myTravel\">\r\n                \r\n                <Tabs tabs={tabs}\r\n                tabBarActiveTextColor ='#4b166c'\r\n                tabBarInactiveTextColor=\"#333\"\r\n                tabBarUnderlineStyle={{border:'none',height:'1px',backgroundImage: 'linear-gradient(90deg,#62238a, #b61588)', transform: 'scale(0.5)'}}\r\n                initialPage={1}\r\n                onChange={(tab, index) => { console.log('onChange', index, tab); }}\r\n                onTabClick={(tab, index) => { console.log('onTabClick', index, tab); }}\r\n                >\r\n                    <div style={{ display: 'flex', alignItems: 'center', tabBarActiveTextColor :'#999', justifyContent: 'center', height: '150px', backgroundColor: '#fff' }}>\r\n\r\n                        <Message handlemyMessage={this.handlemyMessage.bind(this)}/>\r\n\r\n                    </div>\r\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '150px', backgroundColor: '#fff' }}>\r\n                        <MyApply handlemyApply={this.handlemyApply.bind(this)}/>\r\n                    </div>\r\n                </Tabs>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToPrpps = (state)=>{\r\n    return{\r\n            myApplyTravels:state.findTravel,\r\n            userinfo:state.user\r\n        }\r\n}\r\n  \r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return{\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToPrpps,mapDispatchToProps)(MyTravel);\r\n\r\n\r\n"],"sourceRoot":""}