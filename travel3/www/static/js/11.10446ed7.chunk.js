(this.webpackJsonptravel2=this.webpackJsonptravel2||[]).push([[11],{221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);n(208);var a=n(210),r=n.n(a),s=(n(218),n(220)),o=n.n(s),i=n(8),l=n(9),c=n(12),p=n(10),u=n(11),m=n(0),h=n.n(m),f=(n(221),n(107),n(108)),b=n.n(f),y=n(13),v=(n(222),n(16)),d=(n(223),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"seeMoreAction",value:function(){console.log(this.props),this.props.showProup(this.props.reason)}},{key:"rejectAction",value:function(){this.props.showProup("\u7533\u8bf7\u5df2\u62d2\u7edd",this.props.id)}},{key:"render",value:function(){return h.a.createElement("div",{className:"messageItem"},h.a.createElement("div",{className:"imgbox"},h.a.createElement("img",{src:this.props.travel.img,alt:""})),h.a.createElement("div",{className:"info"},h.a.createElement("div",{className:"userInfo"},h.a.createElement("div",{className:"imgBoxWraper"},h.a.createElement("div",{className:"imgBox"},h.a.createElement("img",{src:this.props.user.img,alt:""})),h.a.createElement("h3",null,this.props.user.name)),h.a.createElement("span",null,"\u7533\u8bf7\u52a0\u5165\u60a8\u7684\u65c5\u884c")),h.a.createElement("p",{onClick:this.seeMoreAction.bind(this)},"\u67e5\u770b\u9a8c\u8bc1\u4fe1\u606f"),h.a.createElement("span",{className:"action"},"\u540c\u610f"),h.a.createElement("span",{className:"action reject",onClick:this.rejectAction.bind(this)},"\u62d2\u7edd")))}}]),t}(m.Component));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var j=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(p.a)(t).call(this,e))).onClose=function(e){return function(){n.setState(Object(y.a)({},e,!1))}},console.log(e),n.state={modal1:!1,content:"asdf"},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"showProup",value:function(e,t){var n=this;if(t)return this.props.deleteTravelJoiner(t),void setTimeout((function(){console.log(n.props.userinfo.joiner.length),n.props.handlemyMessage(n.props.userinfo.joiner.length)}));this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{modal1:!0,content:e}))}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"messages"},this.props.userinfo.joiner.map((function(t,n){return h.a.createElement(d,Object.assign({showProup:e.showProup.bind(e),key:n},t))})),h.a.createElement(b.a,{visible:this.state.modal1,transparent:!0,maskClosable:!1,onClose:this.onClose("modal1"),title:"\u9a8c\u8bc1\u4fe1\u606f",footer:[{text:"Ok",onPress:function(){console.log("ok"),e.onClose("modal1")()}}],wrapProps:{onTouchStart:this.onWrapTouchStart}},h.a.createElement("div",{style:{height:100,overflow:"scroll"}},this.state.content)))}}]),t}(m.Component),O=Object(v.b)((function(e){return{userinfo:e.user}}),(function(e){return{deleteTravelJoiner:function(t){e({type:"deleteTravelJoiner",val:t})}}}))(j),E=(n(224),n(225),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"myApplyItem"},h.a.createElement("div",{className:"imgbox"},h.a.createElement("img",{src:this.props.img,alt:""})),h.a.createElement("div",{className:"info"},h.a.createElement("h3",null,this.props.title),h.a.createElement("h4",null,this.props.releaseTime),h.a.createElement("p",null,"\u4eba\u6570\uff1a",this.props.numOfJoin,"\u4eba"),h.a.createElement("span",null,"\u5ba1\u6838\u4e2d")))}}]),t}(m.Component)),k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.myApplyTravels.myApplyTravels;return h.a.createElement("div",{className:"myapply"},h.a.createElement("div",{className:"box"},e.map((function(e,t){return h.a.createElement(E,Object.assign({key:t},e))}))))}}]),t}(m.Component),C=Object(v.b)((function(e){return{myApplyTravels:e.findTravel,userinfo:e.user}}),(function(e){return{}}))(k);n.d(t,"MyTravel",(function(){return T}));var T=function(e){function t(e){var n;Object(i.a)(this,t),n=Object(c.a)(this,Object(p.a)(t).call(this,e)),console.log(n.props.userinfo.joiner);var a=n.props.userinfo.joiner.length,r=n.props.myApplyTravels.myApplyTravels.length;return n.state={myMessage:a,myApply:r},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handlemyMessage",value:function(e){console.log(e),this.setState({myMessage:e})}},{key:"handlemyApply",value:function(e){this.setState({myApply:e})}},{key:"render",value:function(){var e=[{title:h.a.createElement(o.a,{text:this.state.myMessage},"\u6536\u5230\u6765\u4fe1")},{title:h.a.createElement(o.a,{text:this.state.myApply},"\u6211\u7684\u7533\u8bf7")}];return h.a.createElement("div",{className:"page myTravel"},h.a.createElement(r.a,{tabs:e,tabBarActiveTextColor:"#4b166c",tabBarInactiveTextColor:"#333",tabBarUnderlineStyle:{border:"none",height:"1px",backgroundImage:"linear-gradient(90deg,#62238a, #b61588)",transform:"scale(0.5)"},initialPage:1,onChange:function(e,t){console.log("onChange",t,e)},onTabClick:function(e,t){console.log("onTabClick",t,e)}},h.a.createElement("div",{style:{display:"flex",alignItems:"center",tabBarActiveTextColor:"#999",justifyContent:"center",height:"150px",backgroundColor:"#fff"}},h.a.createElement(O,{handlemyMessage:this.handlemyMessage.bind(this)})),h.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"150px",backgroundColor:"#fff"}},h.a.createElement(C,{handlemyApply:this.handlemyApply.bind(this)}))))}}]),t}(m.Component);t.default=Object(v.b)((function(e){return{myApplyTravels:e.findTravel,userinfo:e.user}}),(function(e){return{}}))(T)}}]);
//# sourceMappingURL=11.10446ed7.chunk.js.map