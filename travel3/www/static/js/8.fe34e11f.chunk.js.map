{"version":3,"sources":["../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/_util/exenv.js","pages/FindTravel/Apply/Apply.js","pages/common/HeaderBack/HeaderBack.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/list/style/css.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/textarea-item/style/css.js","../node_modules/_antd-mobile@2.3.1@antd-mobile/lib/textarea-item/index.js"],"names":["Object","defineProperty","exports","value","canUseDOM","window","document","createElement","IS_IOS","test","navigator","userAgent","alert","Apply","props","state","id","reason","travelInfo","travelList","list","filter","item","Number","match","params","imgUrl","img","this","customFocusInst","setState","userinfo","applyOneTravel","history","push","joinerInfo","Date","getTime","user","travel","addTravelJoiner","text","onPress","console","log","style","className","src","alt","userImg","username","title","data-seed","ref","el","autoFocusInst","autoHeight","rows","editable","count","releaseTime","placeholder","onClick","applySmtAction","bind","Component","connect","travels","dispatch","data","type","val","HeaderBack","goBack","_extends3","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames4","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","_rmcFeedback2","_exenv","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","noop","regexAstralSymbols","TextareaItem","_React$Component","_this","__proto__","getPrototypeOf","focus","textareaRef","reAlignHeight","textareaDom","height","scrollHeight","onChange","target","componentDidUpdate","onBlur","debounceTimeout","setTimeout","activeElement","currentTarget","body","scrollTop","onFocus","clearTimeout","onErrorClick","clearInput","defaultValue","nextProps","_classnames","_classnames2","_this2","_a","prefixCls","prefixListCls","clear","error","children","labelNumber","otherProps","disabled","_state","hasCount","wrapCls","labelCls","characterLength","arguments","undefined","replace","countSymbols","lengthCtrlProps","entValue","entLen","split","maxLength","readOnly","activeClassName","defaultProps","module"],"mappings":"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","file":"static/js/8.fe34e11f.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar IS_IOS = exports.IS_IOS = canUseDOM && /iphone|ipad|ipod/i.test(window.navigator.userAgent);","import React, { Component } from 'react';\r\nimport './style.scss'\r\nimport HeaderBack from '../../common/HeaderBack/HeaderBack'\r\nimport {connect} from 'react-redux'\r\nimport { TextareaItem ,Modal } from 'antd-mobile';\r\n\r\nconst alert = Modal.alert;\r\nconst showAlert = (title,content) => {\r\n    const alertInstance = alert(title, content, [\r\n      { text: '取消', onPress: () => console.log('cancel'), style: 'default' },\r\n      { text: '好的', onPress: () => console.log('ok') },\r\n    ]);\r\n  };\r\n\r\nexport class Apply extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            id:'',\r\n            reason:'',\r\n        }\r\n        this.travelInfo  = props.travelList.list.filter(item=>{\r\n            return item.id === Number(props.match.params.id);\r\n            ;\r\n        })[0];\r\n        this.imgUrl = this.travelInfo.img; \r\n    }\r\n\r\n    applySmtAction(){\r\n\r\n        if(!this.customFocusInst.state.value){\r\n            showAlert('申请理由','请填写申请的理由');\r\n            return\r\n        }\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            id:this.props.userinfo.id,\r\n            reason:this.customFocusInst.state.value,\r\n        },function(){\r\n            // console.log(this.travelInfo);\r\n            \r\n            this.props.applyOneTravel(this.travelInfo);\r\n            this.props.history.push('/myTravel');\r\n            let joinerInfo = {\r\n                id:new Date().getTime(),\r\n                user:this.props.userinfo,\r\n                travel:this.travelInfo,\r\n                reason:this.state.reason\r\n            }\r\n            this.props.addTravelJoiner(joinerInfo)\r\n\r\n            \r\n        })  \r\n    }\r\n    render() {\r\n        return (\r\n            <div className = 'page subpage apply'>\r\n                <HeaderBack {...this.props}/>\r\n                <div className=\"applyWrapper\">\r\n\r\n                    <div className=\"imgBox\">\r\n                        <img src={this.imgUrl} alt=\"\"/>\r\n                    </div>\r\n\r\n                    <div className=\"userInfo\">\r\n                        <div className=\"imgbox\">\r\n                            <img src={this.travelInfo.userImg} alt=\"\"/>\r\n                            <p className=\"name\">\r\n                                {this.travelInfo.username}\r\n                            </p>\r\n                        </div>\r\n                        <span>\r\n                            nothing\r\n                        </span>\r\n                    </div>\r\n                    \r\n                    <div className=\"intro\">\r\n                    <TextareaItem\r\n                        title=\"地点\"\r\n                        value={this.travelInfo.title}\r\n                        data-seed=\"logId\"\r\n                        ref={el => this.autoFocusInst = el}\r\n                        autoHeight\r\n                        rows={1}\r\n                        editable={false}\r\n                        count={15}\r\n                    />\r\n                    <hr/>\r\n                    <TextareaItem\r\n                        title=\"时间\"\r\n                        value={this.travelInfo.releaseTime}\r\n                        data-seed=\"logId\"\r\n                        ref={el => this.autoFocusInst = el}\r\n                        autoHeight\r\n                        rows={1}\r\n                        editable={false}\r\n                        count={15}\r\n                    />\r\n                    <hr/>\r\n                    <TextareaItem\r\n                        title=\"申请\"\r\n                        placeholder=\"去旅行的感想和相对大家说的话\"\r\n                        data-seed=\"logId\"\r\n                        autoHeight\r\n                        rows={4}\r\n                        // count={60}\r\n                        ref={el => this.customFocusInst = el}\r\n                    />\r\n                    </div>\r\n\r\n                    <div className=\"applyBtn\" onClick = {this.applySmtAction.bind(this)}>\r\n                        发送申请\r\n                    </div>\r\n                    \r\n                </div>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToPrpps = (state)=>{\r\n    return{\r\n        travelList:state.travels,\r\n        userinfo:state.user\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = (dispatch)=>{\r\n    return{\r\n        applyOneTravel(data){\r\n            dispatch({\r\n                type:'applyOneTravel',\r\n                val:data\r\n            });\r\n        },\r\n        addTravelJoiner(data){\r\n            dispatch({\r\n                type:'addTravelJoiner',\r\n                val:data\r\n            })\r\n        }\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToPrpps,mapDispatchToProps)(Apply);\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport './style.scss'\r\nexport class HeaderBack extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"headerBack\" >\r\n                <span className=\"iconfont icon-Left\" onClick={this.props.history.goBack}></span>\r\n                <img src=\"/img/logo.png\" alt=\"\"/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderBack;\r\n","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nrequire('../../style/css');\n\nrequire('../../list/style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames3 = require('classnames');\n\nvar _classnames4 = _interopRequireDefault(_classnames3);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _exenv = require('../_util/exenv');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* tslint:disable:jsx-no-multiline-js */\n\n\nfunction noop() {}\n\nfunction fixControlledValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n\n  return value;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\n/g;\n\nfunction countSymbols() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return text.replace(regexAstralSymbols, '_').length;\n}\n\nvar TextareaItem = function (_React$Component) {\n  (0, _inherits3['default'])(TextareaItem, _React$Component);\n\n  function TextareaItem(props) {\n    (0, _classCallCheck3['default'])(this, TextareaItem);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (TextareaItem.__proto__ || Object.getPrototypeOf(TextareaItem)).call(this, props));\n\n    _this.focus = function () {\n      _this.textareaRef.focus();\n    };\n\n    _this.reAlignHeight = function () {\n      var textareaDom = _this.textareaRef;\n      textareaDom.style.height = ''; // 字数减少时能自动减小高度\n\n      textareaDom.style.height = textareaDom.scrollHeight + 'px';\n    };\n\n    _this.onChange = function (e) {\n      var value = e.target.value;\n\n      if ('value' in _this.props) {\n        _this.setState({\n          value: _this.props.value\n        });\n      } else {\n        _this.setState({\n          value: value\n        });\n      }\n\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        onChange(value);\n      } // 设置 defaultValue 时，用户输入不会触发 componentDidUpdate ，此处手工调用\n\n\n      _this.componentDidUpdate();\n    };\n\n    _this.onBlur = function (e) {\n      _this.debounceTimeout = setTimeout(function () {\n        if (document.activeElement !== _this.textareaRef) {\n          _this.setState({\n            focus: false\n          });\n        }\n      }, 100);\n      var value = e.currentTarget.value;\n\n      if (_this.props.onBlur) {\n        // fix autoFocus item blur with flash\n        setTimeout(function () {\n          // fix ios12 wechat browser click failure after input\n          if (document.body) {\n            document.body.scrollTop = document.body.scrollTop;\n          }\n        }, 100);\n\n        _this.props.onBlur(value);\n      }\n    };\n\n    _this.onFocus = function (e) {\n      if (_this.debounceTimeout) {\n        clearTimeout(_this.debounceTimeout);\n        _this.debounceTimeout = null;\n      }\n\n      _this.setState({\n        focus: true\n      });\n\n      var value = e.currentTarget.value;\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus(value);\n      }\n    };\n\n    _this.onErrorClick = function () {\n      if (_this.props.onErrorClick) {\n        _this.props.onErrorClick();\n      }\n    };\n\n    _this.clearInput = function () {\n      _this.setState({\n        value: ''\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange('');\n      }\n    };\n\n    _this.state = {\n      focus: false,\n      value: props.value || props.defaultValue || ''\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(TextareaItem, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: fixControlledValue(nextProps.value)\n        });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.autoHeight) {\n        this.reAlignHeight();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.autoHeight && this.state.focus) {\n        this.reAlignHeight();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.debounceTimeout) {\n        clearTimeout(this.debounceTimeout);\n        this.debounceTimeout = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames,\n          _classnames2,\n          _this2 = this;\n\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          prefixListCls = _a.prefixListCls,\n          editable = _a.editable,\n          style = _a.style,\n          clear = _a.clear,\n          children = _a.children,\n          error = _a.error,\n          className = _a.className,\n          count = _a.count,\n          labelNumber = _a.labelNumber,\n          title = _a.title,\n          onErrorClick = _a.onErrorClick,\n          autoHeight = _a.autoHeight,\n          defaultValue = _a.defaultValue,\n          otherProps = __rest(_a, [\"prefixCls\", \"prefixListCls\", \"editable\", \"style\", \"clear\", \"children\", \"error\", \"className\", \"count\", \"labelNumber\", \"title\", \"onErrorClick\", \"autoHeight\", \"defaultValue\"]);\n\n      var disabled = otherProps.disabled;\n      var _state = this.state,\n          value = _state.value,\n          focus = _state.focus;\n      var hasCount = count > 0 && this.props.rows > 1;\n      var wrapCls = (0, _classnames4['default'])(className, prefixListCls + '-item', prefixCls + '-item', (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-item-single-line', this.props.rows === 1 && !autoHeight), (0, _defineProperty3['default'])(_classnames, prefixCls + '-error', error), (0, _defineProperty3['default'])(_classnames, prefixCls + '-focus', focus), (0, _defineProperty3['default'])(_classnames, prefixCls + '-has-count', hasCount), _classnames));\n      var labelCls = (0, _classnames4['default'])(prefixCls + '-label', (_classnames2 = {}, (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-2', labelNumber === 2), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-3', labelNumber === 3), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-4', labelNumber === 4), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-5', labelNumber === 5), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-6', labelNumber === 6), (0, _defineProperty3['default'])(_classnames2, prefixCls + '-label-7', labelNumber === 7), _classnames2));\n      var characterLength = countSymbols(value);\n      var lengthCtrlProps = {};\n\n      if (count > 0) {\n        // Note: If in the iOS environment of dev-tools, It will fail.\n        if (_exenv.IS_IOS) {\n          var entValue = value ? value.replace(regexAstralSymbols, '_') : '';\n          var entLen = entValue ? entValue.split('_').length - 1 : 0;\n          lengthCtrlProps.maxLength = count + entLen - characterLength + (value ? value.length : 0);\n        } else {\n          lengthCtrlProps.maxLength = count - characterLength + (value ? value.length : 0);\n        }\n      }\n\n      return React.createElement('div', {\n        className: wrapCls\n      }, title && React.createElement('div', {\n        className: labelCls\n      }, title), React.createElement('div', {\n        className: prefixCls + '-control'\n      }, React.createElement('textarea', (0, _extends3['default'])({\n        ref: function ref(el) {\n          return _this2.textareaRef = el;\n        }\n      }, lengthCtrlProps, otherProps, {\n        value: value,\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        readOnly: !editable,\n        style: style\n      }))), clear && editable && value && characterLength > 0 && React.createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-clear-active'\n      }, React.createElement('div', {\n        className: prefixCls + '-clear',\n        onClick: this.clearInput\n      })), error && React.createElement('div', {\n        className: prefixCls + '-error-extra',\n        onClick: this.onErrorClick\n      }), hasCount && React.createElement('span', {\n        className: prefixCls + '-count'\n      }, React.createElement('span', null, value ? characterLength : 0), '/', count));\n    }\n  }]);\n  return TextareaItem;\n}(React.Component);\n\nexports['default'] = TextareaItem;\nTextareaItem.defaultProps = {\n  prefixCls: 'am-textarea',\n  prefixListCls: 'am-list',\n  autoHeight: false,\n  editable: true,\n  disabled: false,\n  placeholder: '',\n  clear: false,\n  rows: 1,\n  onChange: noop,\n  onBlur: noop,\n  onFocus: noop,\n  onErrorClick: noop,\n  error: false,\n  labelNumber: 5\n};\nmodule.exports = exports['default'];"],"sourceRoot":""}